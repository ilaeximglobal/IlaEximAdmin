<title>{{sitename}} | {{pagename}}</title>
<div ng-init="setup()" postrender-action="finalSetup()"></div>

<div id="about" class="section wb">
    <div>
        <div class="section-title text-center">
            <h3><span class="dark">{{pagename}}</span></h3>
        </div>
        <div class="section-title">
            <label class="sort-check form-check-label">
                <input class="form-check-input" type="checkbox" value="" id="sorting" ng-model="sorting"
                    ng-checked="sorting">
                <span>Sort</span>
            </label>
        </div>
        <div class="m-2" ng-repeat="q in products track by $index">
            <message type="q.messageType" text="q.messageText" click-action="resetMessage(q)"></message>
            <br>
            <form class="" name="quoteForm">
                <div class="row col-md-12">
                    <checkboxupdate class="col-md-1 form-check" label="{{$index+1}}" data="q.is_showing"
                        disabled="q.isContactFormDisabled">
                    </checkboxupdate>

                    <sortcontrol ng-show="sorting" class="col-md-4" label="{{$index+1}}" data="q.is_showing"
                        index="$index" count="products.length" move-up="moveUp($index)" move-down="moveDown($index)"
                        move-to-position="moveToPosition(index,mt)" swap-with-position="swapWithPosition(index,sw)"
                        disabled="q.isContactFormDisabled" sort-disabled="!sorting">
                    </sortcontrol>
                    <p ng-show="sorting" class="col-md-7">{{q.toDataString()}}</p>

                    <div class="col-md-9">
                        <div ng-hide="sorting">
                            <textupdate id="string_id" label="String id" data="q.string_id"
                                disabled="q.isContactFormDisabled" required="true"></textupdate>
                            <textupdate id="item_order" label="Order" data="q.item_order"
                                disabled="q.isContactFormDisabled" required="true"></textupdate>
                            <textupdate id="name" label="Name" data="q.name" disabled="q.isContactFormDisabled"
                                required="true"></textupdate>
                            <textupdate id="type" label="Type" data="q.type" disabled="q.isContactFormDisabled"
                                required="true"></textupdate>
                            <textupdate id="short_description" label="Short Description" data="q.short_description"
                                disabled="q.isContactFormDisabled" required="true"></textupdate>
                            <textareaupdate id="description" label="Description" data="q.description"
                                disabled="q.isContactFormDisabled" required="true"></textareaupdate>
                            <fileupdate id="file_image" label="Image" oldname="q.image" newimage="false"
                                ischange="q.isfilechanged_image" path="q.path_image" data="q.file_image"
                                disabled="q.isContactFormDisabled" required="false"></fileupdate>
                        </div>
                    </div>
                    <actionbuttons ng-hide="sorting" class="col-md-2" update-action="enableUpdateForm(q)"
                        cancel-action="cancelUpdate(q)" save-action="updateProduct(q)" delete-action="deleteProduct(q)"
                        disabled="q.isContactFormDisabled">
                    </actionbuttons>
                </div>
            </form>
            <hr class="hr1">
        </div>
        <div ng-hide="sorting" ng-repeat="q in [newProduct] track by $index">
            <message type="q.messageType" text="q.messageText" click-action="resetMessage(q)"></message>
            <br>
            <form name="quoteForm" ng-submit="createProduct()">
                <div class="row col-md-12">
                    <checkboxupdate class="col-md-1 form-check" label="New" data="q.is_showing"
                        disabled="q.isContactFormDisabled">
                    </checkboxupdate>
                    <div class="col-md-9">
                        <textupdate id="string_id" label="String id" data="q.string_id"
                            disabled="q.isContactFormDisabled" required="true"></textupdate>
                        <textupdate id="item_order" label="Order" data="q.item_order" disabled="q.isContactFormDisabled"
                            required="true"></textupdate>
                        <textupdate id="name" label="Name" data="q.name" disabled="q.isContactFormDisabled"
                            required="true"></textupdate>
                        <textupdate id="type" label="Type" data="q.type" disabled="q.isContactFormDisabled"
                            required="true"></textupdate>
                        <textupdate id="short_description" label="Short Description" data="q.short_description"
                            disabled="q.isContactFormDisabled" required="true"></textupdate>
                        <textareaupdate id="description" label="Description" data="q.printable_description"
                            disabled="q.isContactFormDisabled" required="true"></textareaupdate>
                        <fileupdate id="file_image" label="Image" oldname="q.image" newimage="true"
                            ischange="q.isfilechanged_image" path="q.path_image" data="q.file_image"
                            disabled="q.isContactFormDisabled" required="false"></fileupdate>
                    </div>
                    <div class="col-md-2">
                        <button class="w-100 btn btn-dark" type="submit"
                            ng-disabled="q.isContactFormDisabled">Save</button>
                    </div>
                </div>
            </form>
            <hr class="hr1">
        </div>
    </div>
</div>